{"version":3,"sources":["webpack:///webpack/bootstrap e09bb45044d7357bc185","webpack:///./app.js","webpack:///./components/search.vue","webpack:///./components/search.vue?9718","webpack:///./components/search.vue?4b92","webpack:///./components/charts.vue","webpack:///./components/charts.vue?5bfb","webpack:///./components/charts.vue?a222","webpack:///./components/favorite.vue","webpack:///./components/favorite.vue?5853","webpack:///./components/favorite.vue?0bc1","webpack:///./components/crawl.vue","webpack:///./components/crawl.vue?5bdc","webpack:///./components/crawl.vue?3095"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,0BAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA,yBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,EAAC;;;AAGD,0B;;;;;;;;;;AC3EA;AACA;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,mDAAkD,gCAAgC;AAClF;AACA;AACA;AACA,UAAS,GAAG,oBAAoB;AAChC,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA,E;;;;;;ACvBA,w7EAAu7E,gBAAgB,2JAA2J,aAAa,6ZAA6Z,aAAa,gzBAAgzB,aAAa,KAAK,WAAW,wFAAwF,YAAY,+BAA+B,cAAc,0D;;;;;;ACAv/H;AACA;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,GAAG,oBAAoB;AACpC,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa,GAAG,oBAAoB;AACpC,UAAS;AACT;AACA;AACA;AACA;AACA,yBAAwB,+BAA+B;AACvD;AACA;AACA;AACA;AACA;AACA,0BAAyB,mBAAmB;AAC5C,uBAAsB,oBAAoB;AAC1C,6BAA4B;;AAE5B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,yBAAwB,8BAA8B;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB;AACvB;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,yBAAwB,+BAA+B;AACvD;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA0B;AAC1B;;AAEA;;AAEA;AACA,UAAS;;AAET;AACA,6BAA4B;AAC5B;AACA,UAAS;;AAET;;AAEA;AACA;;AAEA,uBAAsB,+BAA+B;AACrD,sCAAqC,6EAA6E;AAClH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,sCAAqC,oBAAoB,EAAE;AAC3D;AACA;AACA,iDAAgD,6CAA6C,EAAE;;AAE/F;AACA,oCAAmC,uDAAuD,EAAE;;AAE5F;AACA,yCAAwC,YAAY,EAAE;AACtD,6CAA4C,yBAAyB,EAAE;;AAEvE;AACA;AACA;AACA,oCAAmC,0CAA0C,EAAE;AAC/E,cAAa;;AAEb;AACA;AACA;AACA,8BAA6B,OAAO;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yEAAwE,2BAA2B,EAAE;AACrG;AACA;AACA,iCAAgC,0DAA0D;AAC1F;AACA;AACA;;AAEA;AACA,qBAAoB;AACpB;;AAEA;AACA;;AAEA,MAAK;AACL,E;;;;;;ACrLA,ugE;;;;;;ACAA;AACA;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA,yBAAwB,2BAA2B;AACnD,6BAA4B,qCAAqC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,yBAAwB,+BAA+B;AACvD;AACA;AACA,UAAS;AACT;AACA;AACA,yBAAwB,+BAA+B;AACvD;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,yBAAwB,+BAA+B;AACvD;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B;AAC5B;;AAEA;;AAEA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,yBAAwB,+BAA+B;AACvD;AACA;AACA;AACA;AACA;AACA,0BAAyB,mBAAmB;AAC5C,uBAAsB,oBAAoB;AAC1C,6BAA4B;;AAE5B;AACA;AACA;AACA,UAAS;;AAET;AACA,6BAA4B;AAC5B;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,yBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,SAAS,EAAE;AACzD;AACA;AACA;;AAEA;AACA,6CAA4C,oBAAoB,EAAE;;AAElE;AACA;AACA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA,6CAA4C,aAAa,EAAE;;;AAG3D;AACA;AACA;AACA,mDAAkD,6CAA6C,EAAE;AACjG;AACA;;AAEA;;;AAGA;AACA;AACA,uDAAsD,eAAe;AACrE,6CAA4C,aAAa;AACzD,6CAA4C,aAAa;AACzD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,aAAa;AAC/D,mDAAkD,aAAa;AAC/D;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,mDAAkD,aAAa;AAC/D,mDAAkD,aAAa;AAC/D;AACA;AACA,wBAAuB;AACvB;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6DAA4D,WAAW;AACvE,iCAAgC,gBAAgB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA,gBAAe,GAAG,oBAAoB;AACtC;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AChTA,yiBAAwiB,gBAAgB,2JAA2J,aAAa,sYAAsY,aAAa,gzBAAgzB,aAAa,KAAK,WAAW,wFAAwF,YAAY,+BAA+B,cAAc,kjB;;;;;;ACAjlE;AACA;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,mDAAkD,gCAAgC;AAClF;AACA;AACA;AACA,UAAS,GAAG,oBAAoB;AAChC,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA,E;;;;;;ACvBA,mU","file":"build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e09bb45044d7357bc185\n **/","// Require\n// var Vue = require('vue')\n// var VueRouter = require('vue-router')\n\n// Vue\nVue.use(VueRouter);\nVue.use(VueResource);\n// Vue.http.options.root = 'http://127.0.0.1:1337';\n// Vue.http.headers.common['Authorization'] = 'Basic YXBpOnBhc3N3b3Jk';\n// Vue.http.headers.common['Access-Control-Allow-Origin']: '*';\nvar App = Vue.extend({\n    data: function() {\n        return {\n            tabFavorite : [],\n            logFavorite: \"\",\n            serverUrl: \"http://127.0.0.1:1337\"\n            // serverUrl : \"http://10.224.140.248:1337\"\n\n        };\n    },\n    methods: {\n        addFavorite: function(favorite) {\n           if(this.isFavorited(favorite)){\n            this.tabFavorite.push(favorite);\n           }\n        },\n        isFavorited: function(favorite) {\n             for(var i=0; i<this.tabFavorite.length;i++){\n                if(favorite._id == this.tabFavorite[i]._id){\n                    return false;\n                }\n            }\n            return true;\n        },\n        writeFavorited: function() {\n            this.logFavorite = JSON.stringify(this.tabFavorite);\n        },\n        getFavorite: function() {\n            console.log(this.tabFavorite);\n        },\n        unFavorite: function(favorite) {\n            for(var i=0; i<this.tabFavorite.length; i++) {\n                if(this.tabFavorite[i]._id == favorite._id){\n                    this.tabFavorite.splice(i,1);\n                }\n            }\n        },\n        biggerThan: function(note, min) {\n          if(Math.round(parseFloat(note)) >= min){\n            return true;\n          }\n          // return false;\n        }\n\n    }\n})\nvar tabFavorite = [];\n// Router\nvar router = new VueRouter()\nrouter.map({\n    '/': {\n        component: require('./components/search.vue')\n    },\n    '/charts': {\n        component: require('./components/charts.vue')\n    },\n    '/favorite': {\n        component: require('./components/favorite.vue')\n    },\n    '/crawl': {\n        component: require('./components/crawl.vue')\n    }\n});\n\n\nrouter.start(App, '#app')\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = require(\"-!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./search.vue\")\nmodule.exports.template = require(\"-!html!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./search.vue\")\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/search.vue\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = {\n  inherit: true,\n  data: function() {\n    return {\n      serieSearch:\"\",\n      tabSeries: [],\n      inSearch: false\n    }\n  },\n  methods: {\n    search: function (e) {\n      if(this.serieSearch.length > 0){\n        this.inSearch = true;\n        this.$http.post(this.serverUrl+'/search',{'serieSearch': this.serieSearch}, function(data, status,request){\n          // console.log(data);\n          this.tabSeries = data;\n          this.inSearch = false;\n        }, {'emulateJSON': true});\n      } else {\n        alert(\"Merci d'indiquer une série\");\n      }\n    },\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/selector.js?type=script&index=0!./components/search.vue\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"row\\\">\\n    <form class=\\\"col s8 offset-s2\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"input-field col s10\\\">\\n          <input placeholder=\\\"Entrez le nom d'une série\\\" id=\\\"name_serie\\\" v-model=\\\"serieSearch\\\" type=\\\"text\\\" class=\\\"validate\\\">\\n        </div>\\n        <div class=\\\"input-field col s2\\\">\\n          <button class=\\\"btn waves-effect waves-light btn-large btn-floating orange darken-4\\\" v-on=\\\"click: search\\\" type=\\\"submit\\\" name=\\\"action\\\">\\n            <i class=\\\"material-icons right\\\">search</i>\\n          </button>\\n        </div>\\n      </div>\\n    </form>\\n\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col s12 center-align\\\" v-show=\\\"inSearch\\\">\\n        <div class=\\\"preloader-wrapper big active\\\">\\n        <div class=\\\"spinner-layer spinner-blue\\\">\\n          <div class=\\\"circle-clipper left\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"gap-patch\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"circle-clipper right\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"spinner-layer spinner-red\\\">\\n          <div class=\\\"circle-clipper left\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"gap-patch\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"circle-clipper right\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"spinner-layer spinner-yellow\\\">\\n          <div class=\\\"circle-clipper left\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"gap-patch\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"circle-clipper right\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"spinner-layer spinner-green\\\">\\n          <div class=\\\"circle-clipper left\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"gap-patch\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"circle-clipper right\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col s12 m6 l3\\\" v-repeat=\\\"serie in tabSeries\\\" v-transition=\\\"expand\\\" track-by=\\\"_id\\\" v-show=\\\"!inSearch\\\">\\n      <div class=\\\"card medium cardSerie\\\">\\n        <div class=\\\"card-image\\\">\\n            <img class='activator' src=\\\"{{serie.imageSrc}}\\\">\\n        </div>\\n        <div class=\\\"card-content\\\">\\n            <span class=\\\"card-title activator grey-text text-darken-4 col s12 center-align\\\">{{serie.title}}</span>\\n            <div class=\\\"col s12 littleMargin center-align\\\"> \\n            <a class=\\\"btn-floating btn-large waves-effect waves-light red\\\"><i class=\\\"material-icons\\\" v-on=\\\"click : addFavorite(serie)\\\">favorite</i></a><br>Ajouter aux favoris\\n            </div>\\n        </div>\\n        <div class=\\\"card-reveal\\\">\\n            <span class=\\\"card-title grey-text text-darken-4 center-align center\\\">{{serie.title}}<i class=\\\"material-icons right\\\">close</i> \\n            </span>\\n           <p>\\n              <span class=\\\"card-title star-rating center-align\\\">\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,1)\\\">star</i>\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,2)\\\">star</i>\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,3)\\\">star</i>\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,4)\\\">star</i>\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,5)\\\">star</i>\\n              </span>\\n           </p>\\n            <p class=\\\"center-align\\\">{{serie.begin}} - {{serie.end}}</p>\\n            <p><span v-repeat=\\\"genre in serie.genres\\\" class=\\\"center-align\\\"> {{genre.name}} </span></p>\\n            <p>{{serie.resume}}</p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./components/search.vue\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"-!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./charts.vue\")\nmodule.exports.template = require(\"-!html!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./charts.vue\")\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/charts.vue\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = {\n    inherit: true,\n    data: function() {\n        return {\n            tabSerieByGenre: [],\n            tabSerieByYear: [],\n            inSearch: true\n        }\n    },\n    ready : function(){\n        var that = this;\n        var timer = setInterval(function(){\n            if(google != undefined){\n                clearInterval(timer);\n                that.getAllData();\n            }\n        },2000);\n    },\n    methods: {\n        getAllData: function(e) {\n            this.serieByGenre();\n            this.serieByYear();\n        },\n        serieByGenre: function () {\n            this.$http.post(this.serverUrl+'/serieByGenre', function(data, status,request){\n              this.tabSerieByGenre = data;\n              this.drawPieChart();\n              this.drawColumnChart();\n              this.drawBubbleChart();\n            }, {'emulateJSON': true});\n        },\n        serieByYear: function () {\n            this.$http.post(this.serverUrl+'/serieByYear', function(data, status,request){\n              this.tabSerieByYear = data;\n              this.drawLineChart();\n            }, {'emulateJSON': true});\n        },\n        drawColumnChart: function() {\n            var visualise = [\n                ['Element', 'Average'],\n            ];\n            for(var i=0; i<this.tabSerieByGenre.length;i++){\n                visualise.push([this.tabSerieByGenre[i].name,  Math.round(this.tabSerieByGenre[i].avg*100)/100]);\n            }\n            var data = google.visualization.arrayToDataTable(visualise);\n            var options = {\n                title: \"Moyenne de notes des séries par genre\",\n                legend: { position: \"none\" },\n                bar: { groupWidth: \"95%\" },\n                chartArea: {height: 500}\n\n            };\n            var chart = new google.visualization.BarChart(document.getElementById(\"column_chart\"));\n            chart.draw(data, options);\n        },\n        drawLineChart: function() {\n            var visualise =[\n                        ['Année', 'Nombre'],\n                ];\n            for(var i=0; i<this.tabSerieByYear.length;i++){\n                visualise.push([parseInt(this.tabSerieByYear[i]._id),  this.tabSerieByYear[i].count]);\n            }\n            var data = google.visualization.arrayToDataTable(visualise);\n\n            var options = {\n              title: 'Séries par années',\n              curveType: 'function',\n              legend: { position: 'bottom' }\n            };\n\n            var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));\n\n            chart.draw(data, options);\n            this.inSearch = false;\n        },\n        drawPieChart: function () {\n            // console.log(this.tabSerieByGenre);\n            var visualise =[\n                        ['Genre', 'Nombre'],\n                ];\n            for(var i=0; i<this.tabSerieByGenre.length;i++){\n                visualise.push([this.tabSerieByGenre[i].name,     this.tabSerieByGenre[i].nbSeries]);\n            }\n             var data = google.visualization.arrayToDataTable(visualise);\n\n            var options = {\n              title: 'Les séries par genre :',\n              pieHole: 0.4,\n              chartArea: {height: 500}\n            };\n\n            var chart = new google.visualization.PieChart(document.getElementById('piechart'));\n\n            chart.draw(data, options);\n        },\n\n        getBaseNode: function(){\n            var baseNode = {\"name\": \"flare\",\"children\": []};\n            return baseNode;\n        },\n\n        drawBubbleChart: function() {\n\n          var that = this;\n          var node = this.getBaseNode();\n\n          for(var i=0; i<this.tabSerieByGenre.length;i++){\n              node['children'].push({\"name\":this.tabSerieByGenre[i].name, \"size\":this.tabSerieByGenre[i].nbSeries});\n          }\n\n          var myJson = JSON.stringify(node);\n\n          var diameter = $(window).width()-30,\n              format = d3.format(\",d\"),\n              color = d3.scale.category20c();\n\n          var bubble = d3.layout.pack()\n              .sort(null)\n              .size([diameter, diameter])\n              .padding(1.5);\n\n          var svg = d3.select(\"#bubbleChart\").append(\"svg\")\n              .attr(\"width\", diameter)\n              .attr(\"height\", diameter)\n              .attr(\"class\", \"bubble align-center\");\n\n          root = JSON.parse(myJson);\n\n          // d3.json(\"flare.json\", function(error, root) {\n          //   if (error) throw error;\n\n            var node = svg.selectAll(\".node\")\n                .data(bubble.nodes(classes(root))\n                .filter(function(d) { return !d.children; }))\n              .enter().append(\"g\")\n                .attr(\"class\", \"node\")\n                .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\n\n            node.append(\"title\")\n                .text(function(d) { return format(d.value)+\" séries de type \"+d.className; });\n\n            node.append(\"circle\")\n                .attr(\"r\", function(d) { return d.r; })\n                .style(\"fill\", function(d) { return getRandomColor(); });\n\n            node.append(\"text\")\n                .attr(\"dy\", \".3em\")\n                .style(\"text-anchor\", \"middle\")\n                .text(function(d) { return d.className.substring(0, d.r / 3); });\n         // });\n\n          function getRandomColor() {\n              var letters = '0123456789ABCDEF'.split('');\n              var color = '#';\n              for (var i = 0; i < 6; i++ ) {\n                  color += letters[Math.floor(Math.random() * 16)];\n              }\n              return color;\n          }\n\n          // Returns a flattened hierarchy containing all leaf nodes under the root.\n          function classes(root) {\n            var classes = [];\n\n            function recurse(name, node) {\n              if (node.children) node.children.forEach(function(child) { recurse(node.name, child); });\n              else {\n                if(node.name!==undefined){\n                  classes.push({packageName: name, className: node.name, value: node.size});\n                }\n              }\n            }\n\n            recurse(null, root);\n            return {children: classes};\n          }\n\n          d3.select(self.frameElement).style(\"height\", diameter + \"px\");\n        }\n\n    },\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/selector.js?type=script&index=0!./components/charts.vue\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"row\\\">\\n    <h4 class=\\\"center-align\\\">Analyse de la base de données de séries :</h4>\\n     <div class=\\\"col s12 center-align\\\" v-show=\\\"inSearch\\\">\\n        <div class=\\\"preloader-wrapper big active\\\">\\n        <div class=\\\"spinner-layer spinner-blue\\\">\\n          <div class=\\\"circle-clipper left\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"gap-patch\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"circle-clipper right\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"spinner-layer spinner-red\\\">\\n          <div class=\\\"circle-clipper left\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"gap-patch\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"circle-clipper right\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"spinner-layer spinner-yellow\\\">\\n          <div class=\\\"circle-clipper left\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"gap-patch\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"circle-clipper right\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"spinner-layer spinner-green\\\">\\n          <div class=\\\"circle-clipper left\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"gap-patch\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div><div class=\\\"circle-clipper right\\\">\\n            <div class=\\\"circle\\\"></div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <div v-hide=\\\"inSearch\\\" class=\\\"row littleMargin\\\">\\n            <div class=\\\"col s6 chart\\\" id=\\\"piechart\\\"></div>\\n            <div class=\\\"col s6 chart\\\" id=\\\"column_chart\\\"></div>\\n            <div class=\\\"col s12 chart littleMargin\\\" id=\\\"curve_chart\\\"></div>\\n            <div class=\\\"col s12 chart\\\" id=\\\"bubbleChart\\\"></div>\\n    </div>\\n  </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./components/charts.vue\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = require(\"-!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./favorite.vue\")\nmodule.exports.template = require(\"-!html!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./favorite.vue\")\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/favorite.vue\n ** module id = 11\n ** module chunks = 0\n **/","module.exports = {\n    inherit: true,\n    data: function() {\n        return {\n            tabSerieByGenre: [],\n        }\n    },\n    ready : function(){\n        var that = this;\n        var timer = setInterval(function(){\n            if(google != undefined){\n              console.log(google);\n                clearInterval(timer);\n                that.formatTabFavorite();\n            }\n        },2000);\n    },\n    methods: {\n        formatTabFavorite: function() {\n            for(var i=0; i<this.tabFavorite.length;i++) {\n                for(var j=0; j<this.tabFavorite[i].genres.length; j++) {\n                    var indexGenre = this.checkGenreExist(this.tabFavorite[i].genres[j].name);\n                    if(indexGenre == -1) {\n                        this.tabSerieByGenre.push({\n                        \"name\":this.tabFavorite[i].genres[j].name,\n                        \"nbSeries\": 1,\n                        \"avg\" : this.tabFavorite[i].note\n                        });\n                    } else {\n                        this.tabSerieByGenre[indexGenre].nbSeries ++;\n                        this.tabSerieByGenre[indexGenre].avg += this.tabFavorite[i].note;\n                    }\n                }\n            }\n            this.calculeAverageNote();\n            this.drawPieChart();\n            this.drawColumnChart();\n            this.drawForceLayout();\n        },\n        calculeAverageNote: function() {\n            for(var i=0; i<this.tabSerieByGenre.length;i++) {\n                this.tabSerieByGenre[i].avg = this.tabSerieByGenre[i].avg / this.tabSerieByGenre[i].nbSeries;\n            }\n        },\n        checkGenreExist: function(nameGenre) {\n            var exist = false;\n            for(var i=0; i<this.tabSerieByGenre.length;i++) {\n                if(nameGenre == this.tabSerieByGenre[i].name){\n                    return i;\n                }\n            }\n            return -1;\n        },\n        drawPieChart: function () {\n            var visualise =[\n                ['Genre', 'Nombre'],\n            ];\n            for(var i=0; i<this.tabSerieByGenre.length;i++){\n                visualise.push([this.tabSerieByGenre[i].name,     this.tabSerieByGenre[i].nbSeries]);\n            }\n            var data = google.visualization.arrayToDataTable(visualise);\n\n            var options = {\n                title: 'Vos séries par genre :',\n                pieHole: 0.4,\n                chartArea: {height: 500}\n            };\n\n            var chart = new google.visualization.PieChart(document.getElementById('piechart'));\n\n            chart.draw(data, options);\n        },\n        drawColumnChart: function() {\n            var visualise = [\n            ['Element', 'Average'],\n            ];\n            for(var i=0; i<this.tabSerieByGenre.length;i++){\n                visualise.push([this.tabSerieByGenre[i].name,  Math.round(this.tabSerieByGenre[i].avg*100)/100]);\n            }\n            var data = google.visualization.arrayToDataTable(visualise);\n            var options = {\n                title: \"Moyenne de notes de vos séries par genre\",\n                legend: { position: \"none\" },\n                bar: { groupWidth: \"95%\" },\n                chartArea: {height: 500}\n\n            };\n            var chart = new google.visualization.BarChart(document.getElementById(\"column_chart\"));\n            chart.draw(data, options);\n        },\n\n        getBaseNode: function(){\n            var baseNode = {\"title\": \"you\", \"img\": \"assets/you.png\", \"children\": []\n            };\n            return baseNode;\n        },\n\n        drawForceLayout: function() {\n            var that = this;\n            var node = this.getBaseNode();\n            for(var i=0; i< this.tabFavorite.length; i++) {\n              node['children'].push({\n                \"_id\" : this.tabFavorite[i]._id,\n                \"title\": this.tabFavorite[i].title,\n                \"img\" : this.tabFavorite[i].imageSrc,\n                \"note\" : this.tabFavorite[i].note,\n                \"size\": 40000,\n                \"genres\":this.tabFavorite[i].genres,\n                \"children\": [],\n              });\n            }\n            var myJson = JSON.stringify(node);\n\n            // some colour variables\n            var tcBlack = \"#130C0E\";\n\n            // rest of vars\n            var w = $(window).width(),\n                h = 1000,\n                maxNodeSize = 50,\n                x_browser = 0,\n                y_browser = 0,\n                root;\n\n            var vis;\n            var force = d3.layout.force();\n\n            vis = d3.select(\"#vis\").append(\"svg\").attr(\"width\", w).attr(\"height\", h);\n\n            root = JSON.parse( myJson );\n            root.fixed = true;\n            root.x = w / 2;\n            root.y = h / 4;\n                   // Build the path\n            var defs = vis.insert(\"svg:defs\")\n                .data([\"end\"]);\n\n            defs.enter().append(\"svg:path\")\n                .attr(\"d\", \"M0,-5L10,0L0,5\");\n\n             update();\n\n            /**\n             *\n             */\n            function update() {\n              var nodes = flatten(root),\n                  links = d3.layout.tree().links(nodes);\n                  // console.log('jambon');\n\n              // Restart the force layout.\n              force.nodes(nodes)\n                    .links(links)\n                    .gravity(0.05)\n                .charge(-1500)\n                .linkDistance(120)\n                .friction(0.5)\n                .linkStrength(function(l, i) {return 1; })\n                .size([w, h])\n                .on(\"tick\", tick)\n                    .start();\n\n               var path = vis.selectAll(\"path.link\")\n                  .data(links, function(d) { return d.target.id; });\n\n                path.enter().insert(\"svg:path\")\n                  .attr(\"class\", \"link\")\n                  // .attr(\"marker-end\", \"url(#end)\")\n                  .style(\"stroke\", \"black\");\n\n\n              // Exit any old paths.\n              path.exit().remove();\n\n\n\n              // Update the nodes…\n              var node = vis.selectAll(\"g.node\")\n                  .data(nodes, function(d) { return d.id; });\n\n\n              // Enter any new nodes.\n              var nodeEnter = node.enter().append(\"svg:g\")\n                  .attr(\"class\", \"node\")\n                  .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\n                  .on(\"click\", click)\n                  .call(force.drag);\n\n              // Append a circle\n\n\n              var images = nodeEnter.append(\"svg:image\")\n                    .attr(\"class\", \"image\")\n                    .attr(\"xlink:href\",  function(d) { return d.img;})\n                    .attr(\"x\", function(d) { return -25;})\n                    .attr(\"y\", function(d) { return -25;})\n                    .attr(\"height\", 70)\n                    .attr(\"width\", 70);\n\n              // make the image grow a little on mouse over and add the text details on click\n              var setEvents = images\n\n                      .on( 'mouseenter', function(d) {\n                        // select element in current context\n                        if(d.title != \"you\"){\n                          d3.select(\"h3\").html(d.title+\" : \"+ d.note+\"/5\");\n                        }\n                        d3.select( this )\n                          .transition()\n                          .attr(\"x\", function(d) { return -60;})\n                          .attr(\"y\", function(d) { return -60;})\n                          .attr(\"height\", 150)\n                          .attr(\"width\", 150);\n                      })\n                      // set back\n                      .on( 'mouseleave', function() {\n                        d3.select(\"h3\").html(\"Survolez une série et cliquez dessus !\");\n                        d3.select( this )\n                          .transition()\n                          .attr(\"x\", function(d) { return -25;})\n                          .attr(\"y\", function(d) { return -25;})\n                          .attr(\"height\", 70)\n                          .attr(\"width\", 70);\n                      });\n              // Exit any old nodes.\n              node.exit().remove();\n\n\n              // Re-select for update.\n              path = vis.selectAll(\"path.link\");\n              node = vis.selectAll(\"g.node\");\n\n            function tick() {\n\n                path.attr(\"d\", function(d) {\n                 var dx = d.target.x - d.source.x,\n                       dy = d.target.y - d.source.y,\n                       dr = Math.sqrt(dx * dx + dy * dy);\n                       return   \"M\" + d.source.x + \",\"\n                        + d.source.y\n                        + \"A\" + dr + \",\"\n                        + dr + \" 0 0,1 \"\n                        + d.target.x + \",\"\n                        + d.target.y;\n              });\n                node.attr(\"transform\", nodeTransform);\n              }\n            }\n\n\n            /**\n             * Gives the coordinates of the border for keeping the nodes inside a frame\n             * http://bl.ocks.org/mbostock/1129492\n             */\n            function nodeTransform(d) {\n              d.x =  Math.max(maxNodeSize, Math.min(w - (d.imgwidth/2 || 16), d.x));\n                d.y =  Math.max(maxNodeSize, Math.min(h - (d.imgheight/2 || 16), d.y));\n                return \"translate(\" + d.x + \",\" + d.y + \")\";\n               }\n\n            /**\n             * Toggle children on click.\n             */\n            function click(d) {\n\n              that.$http.post(that.serverUrl+'/searchSame',{'serie': d}, function(data, status,request){\n                    for(var i=0; i< data.length; i++) {\n                    if(data[i].imageSrc!=''||data[i]._id!=''){\n                      d['children'].push({\n                        \"id\" : data[i]._id+Math.random(),\n                        \"title\": data[i].title,\n                        \"img\" : data[i].imageSrc,\n                        \"note\" : data[i].note,\n                        \"size\": 40000,\n                        \"genres\":data[i].genres,\n                        \"children\": []\n                      });\n                    }\n                  }\n                  update();\n              }, {'emulateJSON': true});\n            }\n\n\n            /**\n             * Returns a list of all nodes under the root.\n             */\n            function flatten(root) {\n              var nodes = [];\n              var i = 0;\n\n              function recurse(node) {\n                if (node.children)\n                  node.children.forEach(recurse);\n                if (!node.id)\n                  node.id = ++i;\n                nodes.push(node);\n              }\n\n              recurse(root);\n              return nodes;\n            }\n        }\n    }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/selector.js?type=script&index=0!./components/favorite.vue\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"row center-align\\\">\\n    <h4 class=\\\"center-align\\\">Listes de vos séries favorites.</h4>\\n   <!-- <a v-on=\\\"click: writeFavorited\\\" class=\\\"waves-effect waves-light btn center-align\\\">Sauvegarder</a>-->\\n  <!--   <button v-on=\\\"click: writeFavorited\\\">Save</button> -->\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col s12 m6 l3\\\" v-repeat=\\\"serie in tabFavorite\\\" v-transition=\\\"expand\\\">\\n      <div class=\\\"card medium cardSerie\\\">\\n        <div class=\\\"card-image\\\">\\n            <img class='activator' src=\\\"{{serie.imageSrc}}\\\">\\n        </div>\\n        <div class=\\\"card-content\\\">\\n            <span class=\\\"card-title activator grey-text text-darken-4 col s12 center-align\\\">{{serie.title}}</span>\\n            <div class=\\\"col s12 littleMargin center-align\\\"> <a class=\\\"btn-floating btn-large waves-effect waves-light white\\\" v-on=\\\"click : unFavorite(serie)\\\"><i class=\\\"material-icons red-text\\\">favorite</i></a><br>Retirer des favoris</div>\\n\\n        </div>\\n        <div class=\\\"card-reveal\\\">\\n            <span class=\\\"card-title grey-text text-darken-4 center-align\\\">{{serie.title}}<i class=\\\"material-icons right\\\">close</i> \\n            </span>\\n           <p>\\n              <span class=\\\"card-title star-rating center-align\\\">\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,1)\\\">star</i>\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,2)\\\">star</i>\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,3)\\\">star</i>\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,4)\\\">star</i>\\n                <i class=\\\"material-icons starInactive\\\" v-class=\\\"starActive : biggerThan(serie.note,5)\\\">star</i>\\n              </span>\\n           </p>\\n            <p class=\\\"center-align\\\">{{serie.begin}} - {{serie.end}}</p>\\n            <p><span v-repeat=\\\"genre in serie.genres\\\" class=\\\"center-align\\\"> {{genre.name}} </span></p>\\n            <p>{{serie.resume}}</p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col s6 chart\\\" id=\\\"piechart\\\"></div>\\n    <div class=\\\"col s6 chart\\\" id=\\\"column_chart\\\"></div>\\n    <!-- <div class=\\\"col s12 chart littleMargin\\\" id=\\\"curve_chart\\\"></div> -->\\n    <div class=\\\"row center-align\\\">\\n      <h3 class=\\\"center-align\\\">Listes de vos séries favorites.</h3>\\n    <!--   <button v-on=\\\"click: writeFavorited\\\">Save</button> -->\\n    </div>\\n    <!-- <h3 class=\\\"align-center\\\"></h3> -->\\n    <section id=\\\"vis\\\"></section>\\n  </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./components/favorite.vue\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = require(\"-!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./crawl.vue\")\nmodule.exports.template = require(\"-!html!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./crawl.vue\")\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/crawl.vue\n ** module id = 14\n ** module chunks = 0\n **/","module.exports = {\n  inherit: true,\n  data: function() {\n    return {\n      serieSearch:\"Il\",\n      tabSeries: [],\n      inSearch: false\n    }\n  },\n  methods: {\n    search: function (e) {\n      if(this.serieSearch.length > 0){\n        this.inSearch = true;\n        this.$http.post(this.serverUrl+'/search',{'serieSearch': this.serieSearch}, function(data, status,request){\n          // console.log(data);\n          this.tabSeries = data;\n          this.inSearch = false;\n        }, {'emulateJSON': true});\n      } else {\n        alert(\"Merci d'indiquer une série\");\n      }\n    },\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/selector.js?type=script&index=0!./components/crawl.vue\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"col s12 center-align\\\">\\n<a class=\\\"waves-effect waves-light btn\\\" href=\\\"http://localhost:1337/crawler/add\\\" target=\\\"_blank\\\">Crawler les données</a>\\n<a class=\\\"waves-effect waves-light btn\\\" href=\\\"http://localhost:1337/crawler/del\\\" target=\\\"_blank\\\">Supprimer les données</a>\\n</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./components/crawl.vue\n ** module id = 16\n ** module chunks = 0\n **/"],"sourceRoot":""}